![SEC542](https://github.com/BugHunter021/Penetration-OWASP/assets/76444458/1816a797-8c84-4406-b7dd-2b4e9b53a80e)

در این بخش از دوره آموزشی SEC542 از موسسه SANS به آشنایی با ابزار Burp Suite و بخش های مختلف آن می پردازیم.

# آشنایی با ابزار Burp Suite

ابزار بعدی که در فرآیند تست نفوذ بسیار کاربردی است، ابزار Burp Suite می باشد. این ابزار قدرتمند از طریق سایت portswigger.net در دسترسی بوده و دارای یک نسخه رایگان و یک نسخه تجاری می باشد. نسخه رایگان فاقد برخی از ویژگی های ابزار مانند بخش Scan، ذخیره و بارگذاری تست انجام شده و همچنین تعیین تعداد Thread در آن محدود می باشد. ولی نسخه تجاری آن محدودیت های مذکور را ندارد.

ابزار Burp Suite امکان دسترسی کامل و دستکاری Request ها و Response های HTTP را فراهم می کند. Burp Suite بخش های مختلفی دارد که می توان از آن ها به صورت جداگانه یا ترکیبی استفاده نمود.

### بخش های این ابزار عبارتند از:

* آیتم Burp Proxy: در این بخش شما می توانید درخواست های را متوقف نموده و اطلاعات رد و بدل شده بین مرورگر و برنامه تحت وب را دستکاری نمایید.
* آیتم Burp Spider: با استفاده از این بخش می توانید عملیات Crawling را در برنامه وب انجام دهید.
* آیتم Burp Intruder: این بخش ابزار حمله انعطاف پذیر Burp است که در آن می توانید درخواست های مختلفی را با فرمت های مختلف به سمت برنامه تحت وب ارسال نمایید و نتیجه آن را مشاهده نمایید به عنوان مثال انجام عملیات
* آیتم Brute Force با استفاده از این بخش قابل پیاده سازی خواهد بود.
* آیتم Burp Repeater: این بخش امکان ارسال درخواست های تکراری و مشاهده پاسخ آن را برای شما فراهم می کند.
* آیتم Burp Sequencer: با استفاده از این بخش می توانید شناسه های نشست را برای قابل حدس بودن آن و بررسی امنیت نسبی آن در برابر حملات سرقت نشست، ارزیابی نمایید.
* آیتم Burp Decoder: از این بخش برای Decoding و Encoding با انواع فرمت های پشتیبانی شده در Burp استفاده می شود.
* آیتم Burp Comparer: در این بخش شما می توانید دو درخواست مختلف را به صورت کلمه به کلمه یا به صورت Hex با هم مقایسه نمایید.

البته شما می توانید تنظیمات مربوط به Burp را در بخش Options انجام داده و در بخش Alerts نیز پیام هایی که ابزار Burp تشخیص می دهد که کاربر باید از آن ها اطلاع داشته باشد را مشاهده کنید.

### بخش Target

یکی از بخش هایی که شما بیشتر وقت خود را در طول تست با ابزار Burp Suite در آن می گذرانید بخش Target می باشد. این برگه شامل تمام درخواست هایی است که پروکسی می بیند و ما را قادر می سازد تا تمام درخواست ها و پاسخ ها را بررسی نماییم.

در بخش Target شما می توانید درخواست های ارسال شده و پاسخ آن ها به همراه مشکلات کشف شده توسط Burp قابل مشاهده می باشد. همچنین شما می توانید لینک ها و دایرکتوری هایی که توسط ابزار Burp شناسایی شده است را نیز مشاهده نمایید.

یکی از ویژگی هایی که در بخش Target وجود دارد، امکان فیلتر نمودن است. با کلیک بر روی نوار بالای صفحه شما می توانید به بخش فیلتر نمودن ابزار Burb دسترسی داشته باشید. شما می توانید برخی از موارد را در بخش فیلتر تنظیم نمایید تا استفاده از ابزار Burp برای شما آسان تر شود.

به عنوان مثال می توانید با کلیک بر روی عبارت Show Only in-Scope Items، تنها اطلاعات مربوط به آدرسی که داخل Scope شما وجود دارد را ملاحظه نمایید. در این بخش شما می توانید نوع MIME Type ها مانند HTML، Script، XML و موارد مشابه و همچنین کدهای وضعیت HTTP را فیلتر نمایید.

![SEC542-02](https://github.com/BugHunter021/Penetration-OWASP/assets/76444458/f9982e4a-44b0-40a6-b369-531acb90cbc5)

### بخش Scope

شما می توانید در زیرمجموعه بخش Target، بخش Scope را نیز تنظیم نمایید. بخش Scope برای کنترل ویژگی های خودکار Burp مورد استفاده قرار می گیرد. به عنوان مثال اسکن خودکا به صورت پیش فرض تنها آیتم های داخل Scope را اسکن می نماید.

شما در بخش Scope می توانید دامنه ای را Include یا Exclude نمایید. این گزینه به منظور نظارت هر چه بهتر بر روی اهداف بسیار کاربردی و مفید می باشد.

### بخش Burp Proxy

در این بخش شما می توانید درخواست ها و پاسخ های مربوط به آن را مشاهده نموده و ضبط نمایید. همچنین شما می توانید این موارد را به بخش های دیگر Burp انتقال دهید. بخش Proxy دارای ویژگی هایی است که در طول تست نفوذ برای ما مفید می باشند.

یکی از ویژگی هایی که در بخش پروکسی می تواند از آن استفاده نمود، امکان نگه داشتن درخواست و آنالیز آن است، در این بخش شما می توانید درخواست را نگه داشته و سپس Forward نموده و یا Drop کنید. ویژگی دیگر امکان ویرایش Response می باشد که امکان باز نویسی کدها و حذف مواردی مانند فیلترهای جاوااسکریپت را در اختیار شما قرار می دهد.

همچنین در بخش Options مربوط به Proxy شما می توانید تعریف کنید که تنها ترافیک مربوط به سایت مورد نظر شما که در Scope قرار دارد از Burp عبور نموده و ترافیک سایت های دیگر به صورت عادی به سمت اینترنت ارسال شوند. مورد مذکور در بخش Intercept Client Request و Intercept Server Response قابل تنظیم می باشد.

![SEC542-03-600x471](https://github.com/BugHunter021/Penetration-OWASP/assets/76444458/9900d475-0ed6-43e2-b768-b5a091e3193f)

### بخش Spider

یکی از بخش های دیگر ابزار Burp، بخش Spider می باشد. با استفاده از این بخش شما می توانید صحفات و دایرکتوری های مختلف سایت مورد نظر را استخراج نمایید. برای اجرای این بخش شما می توانید بر روی URL مورد نظر خود در بخش Target راست کلیک نموده و گزینه Spider this host را انتخاب نمایید یا وارد تب Spider شده بر روی دکمه Spider is Paused کلیک کنید با به Spider is running تغییر وضعیت دهد.

به صورت پیش فرض بخش Spider، فعالیت خود را بر روی سایت موجود در Scope انجام می دهد. همچنین بخش Spider در هنگام برخورد با فرم هایی که نیاز به پاسخ دارند، در قالب یک پنجره از شما اطلاعات مربوط به آن را درخواست می کند.

### بخش Intruder

بخش Intruder از ابزار Burp به عنوان یک ابزار حمله خودکار یا Automated Attack Tool می باشد که با استفاده از آن می توان پارامترهای مدنظر خود را با موارد انتخابی جایگزین نموده و به سمت هدف ارسال نمود. البته در نسخه رایگان Burp این بخش دارای محدودیت هایی می باشد ولی باز هم امکانات لازم برای حملات مختلف را فراهم می نماید.

### بخش Repeater

یکی از بخش های کاربردی دیگر در ابزار Burp، بخش Repeater می باشد. با استفاده از این بخش شما می توانید Requestهای مختلف را تکرار نموده و Response آن را نیز مشاهده نمایید. شما می توانید در Request تغییر ایجاد نموده و در کنار آن پاسخ دریافت شده را مشاهده نمایید.

در صورتی که صفحه درخواستی شما، منجر به هدایت به یک صفحه دیگر شود، شما می توانید اطلاعات مربوط به آن را نیز مشاهده نمایید.

### بخش Sequencer

این بخش از ابزار Burp به منظور تعیین قابل پیش بینی بودن شناسه های نشست استفاده شده توسط برنامه وب کاربرد دارد. Sequencer تلاش می کند تا Session Token ها را به صورت خودکار شناسایی نماید ولی گاهی اوقات ما باید یک Token را در پاسخ انتخاب نماییم. Sequencer نتیجه آزمایش خود را در قالب یک نمودار هم به ما نمایش می دهد و ما می توانیم به وسیله آن تجزیه و تحلیل مناسبی از وضعیت نشست ها داشته باشیم.

### بخش Decoder

بخش Decoder از ابزار Burp به منظور رمزگشایی داده های کد شده توسط برنامه تحت وب مورد استفاده قرار می گیرد. این موضوع بسیار معمول است که برخی اطلاعات در برنامه های تحت وب با استفاده از روش های مختلف مانند Base64 یا URL Encode، کدگذاری شده باشند. با استفاده از بخش Decoder می توانیم، اطلاعاتی از این دست را اصطلاحا Decode نماییم.

شما می توانید بخش های کدشده داخل درخواست ها و بخش های دیگر را انتخاب نموده و با راست کلیک و گزینه Send to Decoder را انتخاب کنید. با این کار مقدار انتخاب شده وارد بخش Decoder می شود و شما می توانید با انتخاب نوع کدگذاری انجام شده که در بخش راست صفحه وجود دارد، اقدام به استخراج اطلاعات اولیه نمایید.


### بخش Comparer

بخش دیگر ابزار Burp، بخش Comparer یا مقایسه کننده می باشد. با استفاده از این بخش شما می توانید تفاوت های بین دو درخواست یا پاسخ را مشاهده نمایید. شما به دو روش می توانید فایل ها را با یکدیگر مقایسه نمایید. روش اول به صورت کلمه به کلمه و روش دیگر به صورت بایت به بایت است که در بخش Comparer قابل تنظیم می باشد.

